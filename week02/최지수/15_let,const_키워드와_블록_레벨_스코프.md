# let, const 키워드와 블록 레벨 스코프

- var : 호이스팅 됨 & 선언과 초기화가 한 번에 / 함수 스코프(전역 스코프 아님!!!)
- let, const : 호이스팅 됨 & 선언 후 초기화 / 블록 스코프

```
var a = 1
let b = 2
const c = 3

console.log(a) // undefined
console.log(b) // 초기화 안 됨 에러
console.log(c) // 초기화 안 됨 에러
```

TDZ : 선언과 초기화 사이의 시간 차이 (실제 공간이 있는게 아님)<br>
<br>

## var 키워드로 선언한 변수의 문제점

1. 변수 중복 선언 허용

2. 함수 레벨 스코프

var 키워드로 선언한 변수는 오로지 함수의 코드 블록만을 지역 스코프로 인정.<br>
함수 외부에서 var 키워드로 선언한 변수는 코드 블록 내에서 선언해도 모두 전역 변수가 된다.<br>

3. 변수 호이스팅

변수 선언문 이전에 변수를 참조하는 것은 변수 호이스팅에 의해 에러를 발생시키지는 않지만, 프로그램의 흐름상 맞지 않을뿐더러 가독성을 떨어뜨리고 오류를 발생 시킬 여지를 남긴다.
<br>

## let 키워드

1. 변수 중복 선언 금지
   <br>

2. 블록 레벨 스코프

- var 키워드로 선언한 변수 : 오로지 함수의 코드 블록만을 지역 스코프로 인정
- let 키워드로 선언한 변수 : 모든 코드 블록(함수, if문, for문, while문, try/catch문 등)을 지역 스코프로 인정하는 블록 레벨 스코프를 따른다
  <br>

3. 변수 호이스팅

var 키워드로 선언한 변수는 런타임 이전에 자바스크립트 엔진에 의해 암묵적으로 선언 단계(자바스크립트 엔진에 변수의 존재를 알림)와 초기화 단계(undefined로 변수를 초기화)가 한 번에 진행된다.<br>

let 키워드로 선언한 변수는 선언 단계와 초기화 단계가 분리되어 진행된다.<br>
런타임 이전에 자바스크립트 엔진에 의해 암묵적으로 선언 단계가 먼저 실행되지만 초기화 단계는 변수 선언문에 도달했을 때 실행된다.<br>

- 일시적 사각지대(TDZ) : 스코프틔 시작 지점부터 초기화(undefined 할당) 시작 지점까지 변수를 참조할 수 없는 구간<br>

ES6에서 도입된 let, const, class를 사용한 선언문은 호이스팅이 발생하지 않는 것처럼 동작한다. => ?
<br>

4. 전역 객체와 let

let 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아니다.
<br>

## const 키워드

const 키워드는 상수를 선언하기 위해 사용한다.

1. 선언과 초기화

const 키워드로 선언한 변수는 반드시 선언과 동시에 초기화해야 한다.
<br>

2. 재할당 금지
   <br>

3. 상수

const 키워드로 선언한 변수에 원시 값을 할당한 경우 변수 값을 변경할 수 없다.
변수의 상대 개념인 상수는 재할당이 금지된 변수를 말한다.

const 키워드로 선언된 변수에 원시 값을 할당한 경우 원시 값은 변경할 수 없는 값이고 const 키워드에 의해 재할당이 금지되므로 할당된 값을 변경할 수 있는 방법은 없다.
<br>

4. const 키워드와 객체

const 키워드로 선언된 변수에 객체를 할당한 경우, 값을 변경할 수 있다.
const 키워드는 재할당을 금지할 뿐 '불변'을 의미하지는 않는다.
<br>

---

재할당이 필요한 경우에 한정해 let 키워드를 사용한다. 이때 변수의 스코프는 최대한 좁게 만든다.
변경이 발생하지 않고 읽기 전용으로 사용하는 원시 값과 객체에는 const 키워드를 사용한다.
